// Dialog Configuration file for unpublished game.

// ========================
// CONVERSATION FILE
// ========================


// ================================================
// ASSET REGISTER (ACTORS & ENVIRONMENTS)

actors
[
	{ id="scientist_a"  titleColor="0xF7931E"  textColor="0xF7E6D2"
			link="actor_a" defaultTarget="head"	ani = { talk={ vars=3 } } voice=e  align="l"
	}
	
	{ id="scientist_b"  titleColor="0x75F075"  textColor="0xBBEDC9"
			link="actor_b" defaultTarget="head"	ani = { talk={ vars=3 } } voice=b  align="r"
	}
	
	{ id="shipLeader"  titleColor="0xBEC0D1"  textColor="0xE0E1E9"
			link="actor_nasharan" defaultTarget="head" ani = { talk={ vars=2 } } align="c"  positionLink="pos_0" voice=b
	}
	
	{ id="en_shadaan"  titleColor="0xBEC0D1"  textColor="0xE0E1E9"
			link="actor_nasharan" defaultTarget="head" ani = { talk={ vars=2 } } align="c"  positionLink="pos_0" voice=b
	}
	
	{ id="korox"  titleColor="0xF7931E"  textColor="0xF7E6D2"
			link="actor_a" defaultTarget="head" ani = { talk={ vars=4 } } align="c"
			voice=d
	}
	
]

environments
[
	// general shots
	{ id="bg_room1"			file="shot_general" }
	{ id="bg_office"		file="shot_general" }
	{ id="bg_hideout"		file="shot_general" }
	
	// specific shots (for quests)
	{ id="shot_1"				file="shot_scientistsA" }
]


// ========================
// CONVERSATION TREES

conversations
{

quantuaAndMechet
{
	setup
	{
		shot = "shot_1"
		file = "shot_scientistsA"
		
		bgInfo = { actors=1.0  rail=0.7  mg=.5  capsules=0.4  bg=0.2 }
	}
	
	// here are actors defined. Actor 0 is default actor for each sequence node. Other actors than that need to be specified there (via id or abbrevation, abb)
	actors
	[
		{ id="scientist_a"  abb="a"  titleColor="0xF7931E"  textColor="0xF7E6D2" link="actor_a" defaultTarget="head"
			ani = { talk={ vars=3 } }  align="l" voice=e
		}
		
		{ id="scientist_b"  abb="b"  titleColor="0x75F075"  textColor="0xBBEDC9" link="actor_b" defaultTarget="head"
			ani = { talk={ vars=3 } }  align="r" voice=f
		}
	]
	
	// defines state which is entered by default on conversation start
	entry = "welcome"
	
	// dialog consists of states. Each state defines available player options and entry sequence (which can be just a phrase)
	states
	{
		quest_deragon
		{
			entry=qd_job_00
			
			options 
			[
				{ id=opt_qd_accept   		}
				{ id=opt_qd_decline  		}
				{ id=opt_qd_whatIsThat  }
			]
			
			
			sequences
			[
				{ id="qd_entry" actor=a time=1.3  }
				
				{ id=qd_job_00
					complex=
					[
						{ pose="grinning" actor=b }
						
						{ id="qd_entry" actor=a time=3 onDone={ pose="grinning" }  }
						{ id="qd_job_0" actor=b time=3 }
						{ id="qd_job_1"  actor=a time=4 }
					]
				}
				
				{ id=react_qd_accept
					complex=
					[
						{ pose="grinning" actor=b }
						{ id="react_qd_accept" actor=a time=3 onDone={ pose="grinning" }  }
					]
				}
				
				{ id=react_qd_decline
					complex=
					[
						{ id="react_qd_decline" actor=a time=3 onDone={ pose="grinning" }  }
					]
				}
				
				{ id=react_qd_whatIsThat
					complex=
					[
						{ id="qd_explanation_0" actor=b time=3  }
						{ id="qd_explanation_1" actor=a time=3  }
					]
				}
				
				
			]
		}
		
		intro
		{
			entry=intro_seq_0
			
			// empty options-field marks that conversation would end after first sequence is done (end if it does not link to other states)
			options
			[
			]
			
			sequences
			[
				{ id=intro_seq_0
					complex=
					[
						// { action=blackScreen;wait|300;fadeIn|200;wait|300 }
						
						{ bodyPose="leaned_r" actor=b  }
						{ pose="disgusted" actor=b  }
						{ id="intro_welcome" actor=a time=3 /* onDone={ pose="grinning" } */ }
						{ pose="watch_l" }
						{ bodyPose="default" actor=b  }
						{ id="intro_healthy" actor=b time=2.5 onDone={ pose="grinning" } }
						{ id="intro_please"  actor=a time=.5 onDone={ pose="unlucky" } }
						{ id="intro_leave"   actor=b time=2.5 }
						{ pose="watch_l"     actor=a }
						
						{ id="intro_release" actor=a time=3.5 onDone={ pose="watch_l2" } }
						{ action="clear" }
						{ bodyPose="activate" actor=b time=1.0 }
						{ bodyPose="activate" actor=a pose="default" }
						{ bodyPose="default" actor=b time=1.5 }
						{ bodyPose="shocked" actor=a time=0.5 }
						{ pose="urgent" actor=b time=0.5 }
						{ bodyPose="activate" actor=b time=0.5 }
						{ bodyPose="default" actor=b time=0.25 }
						{ pose="watch_d" actor=b }
						{ bodyPose="activate" actor=b time=0.5 }
						// { pose="watch_d" actor=b time=1.5 }
						
						// { pose="watch_l" actor=a  }
						
						{ action=exit }
					]
				}
				
				{ id=intro_seq_1
					complex=
					[
						{ bodyPose="activate" actor=b }
						{ bodyPose="shocked" actor=a }
						{ pose="shocked" actor=a }
						
						{ id="intro_whoops"  actor=b time=.5 onDone={ pose="urgent" } }
						{ bodyPose="default" actor=a }
						{ pose="watch_d" actor=a }
						
						{ bodyPose="default" actor=b }
						{ id="intro_flushed" actor=b time=1.5 onDone={ pose="grinning" } }
						
						{ pose="watch_r" actor=b }
						{ pose="unlucky" actor=a }
						{ id="intro_next" actor=a time=2.5 onDone={ pose="unlucky" } }
						
						// { pose="watch_d" actor=a time=0.7 }
						
						{ action=exit }
					]
				}
				
				
			]
			
		}
		
		
		welcome
		{
			// defines first sequence
			entry=def_greet
			
			// empty options-field marks that conversation would end after first sequence is done (end if it does not link to other states)
			options
			[
				{ id=opt_whoAmI  } // reaction-value is optional; "opt_" replaced by "react_"
				{ id=opt_whoAreYou  }
				{ id=opt_whereAreWe  }
				{ id=opt_bionize }
				{ id=opt_company  condition=heardOf|company  }
				{ id=opt_fourEyes condition=PLAYER_RACE__RADONE }
			]
			
			
			sequences
			[
				{ id="def_greet" actor=a time=1.3  }
				
				{ id="react_whoAmI" actor=a time=1.3  complex=
					[
						{ id="react_whoAmI_1"   actor=b time=2.5 }
						{ id="react_whoAmI_2"   actor=a time=2.5 }
						{ id="react_whoAmI_3"   actor=a time=2.5 }
					]
				}
				
				{ id="react_whoAreYou" actor=a time=1.3  complex=
					[
						{ id="react_whoAreYou_1"   actor=a time=2.5 }
						{ id="react_whoAreYou_2"   actor=b time=2.5 }
					]
				}
				
				{ id="react_whereAreWe" actor=a time=1.3  complex=
					[
						{ id="react_whereAreWe_1"   actor=b time=2.5 }
						{ id="react_whereAreWe_2"   actor=a time=4.5 }
					]
				}
				
				{ id="react_bionize" actor=a time=1.3  complex=
					[
						{ id="react_bionize_1"   actor=b time=1.5 }
					]
				}
			]
		}
	}
}


korox
{
	setup
	{
		shot = "shot_1"
		file = "shot_korox"
		
		bgInfo = { fg=1.1 actors=1.0  mg=0.7  bg=0.2 }
	}
	
	actors
	[
		{ id="korox"  abb="a"  titleColor="0xF7931E"  textColor="0xF7E6D2"
			link="korox" defaultTarget="head" ani = { talk={ vars=4 } } align="c" voice=d
		}
	]
	
	
	states
	{
		default
		{
			entry = "def_greet"
			
			options
			[
				{ id=opt_workshop }
				{ id=opt_station  }
				{ id=opt_yourName }
				{ id=opt_scar }
			]
			
			sequences
			[
				{ id="def_greet"   }
				
				{ id="react_workshop"  }
				{ id="react_station"   }
				{ id="react_yourName"	complex=
					[
						{ id="react_yourName_0"  }
						{ id="react_yourName_1"  }
						{ id="react_yourName_2"  }
						{ id="react_yourName_3"  }
					]
				}
				
				{ id="react_scar" }
				
				{ id="react_data"  complex=
					[
						{ id="react_data_1"  }
					]
				}
				
			]
		}
		
		penalty
		{
			entry = "penalty.entry"
			
			options
			[
				{ id="opt_penalty.pay" }
				{ id="opt_penalty.refuse" }
			]
		
			sequences
			[
				{ id="penalty.entry" }
				
				{ id="react_penalty.pay"   }
				{ id="react_penalty.refuse"   }
			]
		}
		
	}
}

pnakk
{
	setup
	{
		shot = "shot_pnakk_throne"
		file = "shot_pnakk"
		
		// bgInfo = { fg=1.1 actors=1.0  mg=0.7  bg=0.2 }
	}
	
	actors
	[
		{ id="pnakk"  abb="a"  titleColor="0x498983"  textColor="0x8EC4BE"
			link="pnakk" defaultTarget="head" ani = { talk={ vars=3 } } align="l" voice=g
		}
		
		{ id="counselor"  abb="b"  titleColor="0x81DE61"  textColor="0xADEA99"
			link="counselor" defaultTarget="head" ani = { talk={ vars=2 } } align="r" voice=e
		}
		
		{ id="guardL"  abb="g1"  titleColor="0x81DE61"  textColor="0xADEA99"
			link="guardL"
		}
		
		{ id="guardR"  abb="g2"  titleColor="0x81DE61"  textColor="0xADEA99"
			link="guardR"
		}
	]
	
	actions
	{
		angrify
		[
			{ actor=g1  bodyPose="angry" }
			// g1:pose|angry
		]
	}
	
	states
	{
		default
		{
			entry = "def_greet"
			
			options
			[
				{ id=opt_greet }
				{ id=opt_jobs  }
				{ id=opt_status }
				{ id=opt_taunt }
			]
			
			sequences
			[
				{ id="def_greet"  actor="b"  }
				
				{ id="react_jobs"  complex=[
						a:react_jobs
					]
				}
				
				{ id="react_status"  complex=[
						a:status_chall_0
						a:status_chall_1
						a:status_chall_2
						a:status_chall_3
						a:status_chall_4
						a:status_chall_5
					]
				}
				
				{ id="react_greet"  complex=[
						a:react_anger_0
						b:react_greet_0
					]
				}
				
				{ id="react_taunt"	complex=
					[
						{ actor=b  bodyPose="shocked" }
						{ actor=b  pose="shocked" }
						{ actor=a  pose="shocked" }
						{ wait=true time=1 }
						
						{ actor=b  bodyPose="angry" }
						{ wait=true time=.5 }
						
						b:react_taunt_0
						
						{ actor=a  bodyPose="resolute" }
						{ actor=a  pose="resolute" }
						{ wait=true time=.5 }
						
						a:react_taunt_1
						
						// action:angrify
						
						
						// { action=exit }
					]
				}
				
			]
		}
		
	}
}

spaceStationGovernor
{
	setup
	{
		file = "shot_general"
		// bg = "bg_hideout"
		// bg = "bg_room1"
		bg = "bg_office"
		// actors = [ "actor_nasharan" ]
	}
	
	actors
	[
		// REMOVED
		{ id="en_shadaan"  abb="a"  titleColor="0xBEC0D1"  textColor="0xE0E1E9"
			link="actor_nasharan" defaultTarget="head" ani = { talk={ vars=2 } } align="c"  positionLink="pos_0" voice=g
		}
	]
	
	entry = "default"
	
	states
	{
		default
		{
			entry = "def_greet"
			
			options
			[
				{ id=opt_status }
				{ id=opt_data   }
				{ id=opt_diplomacy   }
				{ id=opt_surrender   }
			]
			
			sequences
			[
				{ id="def_greet"   }
				
				{ id="react_status"   }
				
				{ id="react_data"  complex=
					[
						{ id="react_data_1"  }
					]
				}
				
				{ id="react_diplomacy"  complex=
					[
						{ id="react_diplomacy_1"  }
					]
				}
				
				{ id="react_surrender"  complex=
					[
						{ action="clear" }
						{ actor=b  pose="default" }
						{ wait=true time=.5 }
						{ actor=b  ani="bugged" }
						{ wait=true time=1.3 }
						{ actor=b  pose="thinking" }
						{ wait=true time=1.3 }
						
						{ id="react_surrender_1"  }
						{ action=exit }
					]
				}
				
			]
		}
		
		penalty
		{
			entry = "penalty.entry"
			
			options
			[
				{ id="opt_penalty.pay" }
				{ id="opt_penalty.refuse" }
			]
		
			sequences
			[
				{ id="penalty.entry" }
				
				{ id="react_penalty.pay"   }
				{ id="react_penalty.refuse"   }
			]
		}
		
	}
}


fallback
{
	setup
	{
		file = "shot_general"
		bg = "bg_room1"
	}
	
	actors
	[
		{ id="el_kapi_tano"  abb="a"  titleColor="0xBEC0D1"  textColor="0xE0E1E9"
			link="actor_nasharan" defaultTarget="head" ani = { talk={ vars=2 } } align="c"  positionLink="pos_0" voice=b
		}
	]
	
	entry = "default"
	
	default
	{
		entry = "cmn_greet"
		comeback = "cmn_comeback"
		
		
		remember = true
		
		options
		[
			// { id="opt_talk" }
		]
		
		sequences
		[
			// { id="cmn_greet" }
		]
	}
	
}

// [...]

} // END OF "conversation_tree"
